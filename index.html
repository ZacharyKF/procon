<!DOCTYPE html>
<html>

<head>
    <script src="elm.js"></script>
</head>

<body>
    <script>
        //https://stackoverflow.com/questions/33697444/data-persistence-in-elm
        var app = Elm.Main.init();

        app.ports.save.subscribe(function (state) {
            localStorage.setItem('procons', JSON.stringify(state));
        });

        app.ports.doload.subscribe(function () {
            app.ports.load.send(JSON.parse(localStorage.getItem('procons')));
        });

        {
            var onStart = localStorage.getItem('procons')
            if (onStart != null && onStart != "") {
                app.ports.load.send(onStart);
            }
        }

    </script>
</body>

</html>